library ieee;
use ieee.std_logic_1164.all;

entity cuadrado is
	port (
	
	);
end entity;

architecture arch of cuadrado is
	signal col_ini,col_fin,fila_ini,fila_fin : integer range 0 to 1023;
begin
	logica_mov:process (all)	
	begin
		if reset='0'then
			col_ini<=439;
			col_fin<=489;
			fila_ini<=250;
			fila_fin<=300;
		elsif rising_edge(clk) then
			if der='0' then
				col_ini<=col_ini+1;
				col_fin<=col_fin+1;
			elsif izq='0'then
				col_ini<= col_ini-1;
				col_fin<= col_fin-1; -- logica de movimiento
			elsif abajo='0' then
				fila_ini<=fila_ini+1;
				fila_fin<=fila_fin+1;
			elsif arriba='0' then
				fila_ini<=fila_ini+1;
				fila_fin<=fila_fin+1;
			end if;
			
			-- logica de chequeo que este dentro del cuadro de dibujo
			if col_ini<144 then
				col_ini<=144;          -- marco izquierdo
				col_fin<=144+50;
			elsif col_fin>784 then
				col_fin<=784          -- marco derecho
				col_ini<=784-50;
			end if;
			if fila_ini<35 then
				fila_ini<=35;         -- arriba
				fila_fin<=35+50;
			elsif fila_fin>515 then
				fila_fin<=515;
				fila_ini<=515-50;     -- abajo
			end if;
		end if;
	end process;
	
	logica_salida : process(all)
	begin
		--horizontal
		if rising_edge(clk) then
			if fila<fila_ini then -- fuera cuadrado izquierdo 
				rojo<="000000";
				azul<="111111"; --pintamos fondo azul
				verde<="000000";
			elsif fila>=fila_ini and fila<=fila_fin then -- dentro del cuadrado
				rojo <="000000";
				azul<="000000";
				verde<="111111"; -- pintamos cuadrado verde
		end if;
		end process;
end architecture;